{"ast":null,"code":"var _jsxFileName = \"/home/mind/Desktop/instagramblockchainapp/socail_frontend/frontend_app/src/components/posts/Post.jsx\",\n    _s = $RefreshSig$();\n\nimport { MoreVert } from \"@material-ui/icons\";\nimport React, { useContext, useEffect, useState } from \"react\";\nimport \"./Post.css\";\nimport dotenv from 'dotenv';\nimport { format } from 'timeago.js';\nimport axios from \"axios\";\nimport { Avatar } from \"@material-ui/core\";\nimport { Link } from 'react-router-dom';\nimport { AuthContext } from \"../../context/AuthContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Post({\n  Post\n}) {\n  _s();\n\n  const PF = process.env.REACT_APP_PUBLIC_FOLDER;\n  const [like, setlike] = useState(Post.likes.length);\n  const [isLike, setisLike] = useState(false);\n  const {\n    user\n  } = useContext(AuthContext);\n  const [User, setUser] = useState({});\n  useEffect(() => {\n    setisLike(Post.likes.includes(user._id));\n  }, [user._id, Post.likes]);\n\n  const likeHandeler = () => {\n    console.log(\"cl\");\n\n    try {\n      axios.put(`/posts/${Post._id}/like`, {\n        userId: user._id\n      });\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  console.log(Post);\n  useEffect(() => {\n    const fetchUser = async () => {\n      try {\n        //getting the user from the data base using post id \n        const res = await axios.get(`/users?userId=${Post.userId}`); // console.log(res.data)\n\n        setUser(res.data);\n      } catch (err) {\n        console.log(err);\n      }\n    };\n\n    fetchUser();\n  }, [Post.userId]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"post\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"post__wrapper\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"post__wrapper_top\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"post_top_left\",\n          children: [\"    \", /*#__PURE__*/_jsxDEV(Link, {\n            to: `profile/${User.username}`,\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: User.profilePicture ? User.profilePicture : 'assets/person/lg.jpg',\n              className: \"postProfileimage\",\n              alt: \"\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 49,\n              columnNumber: 12\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 46\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"postusername\",\n            children: User.username\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"postdate\",\n            children: format(Post.createdAt)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"post_top_right\",\n          children: /*#__PURE__*/_jsxDEV(MoreVert, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"post__wrapper_center\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"postText\",\n          children: Post.desc\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n          className: \"post__image\",\n          src: Post.img,\n          alt: \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"post__wrapper_bottum\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"post__bottum_left\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            className: \"like_icon\",\n            src: `${PF}/heart.png`,\n            onClick: likeHandeler,\n            alt: \"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n            className: \"like_icon\",\n            src: `${PF}/like.png`,\n            onClick: likeHandeler,\n            alt: \"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"lickcounter\",\n            children: [Post.likes.length, \" people liked this\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"post__bottum_right\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"postcommenttext\",\n            children: [Post.comment, \" comments\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Post, \"H/waou4OBN/UpgH11wgoh7QZUTA=\");\n\n_c = Post;\nexport default Post;\n\nvar _c;\n\n$RefreshReg$(_c, \"Post\");","map":{"version":3,"sources":["/home/mind/Desktop/instagramblockchainapp/socail_frontend/frontend_app/src/components/posts/Post.jsx"],"names":["MoreVert","React","useContext","useEffect","useState","dotenv","format","axios","Avatar","Link","AuthContext","Post","PF","process","env","REACT_APP_PUBLIC_FOLDER","like","setlike","likes","length","isLike","setisLike","user","User","setUser","includes","_id","likeHandeler","console","log","put","userId","error","fetchUser","res","get","data","err","username","profilePicture","createdAt","desc","img","comment"],"mappings":"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","sourcesContent":["import { MoreVert } from \"@material-ui/icons\";\nimport React, { useContext, useEffect, useState } from \"react\";\nimport \"./Post.css\";\nimport dotenv  from  'dotenv'\nimport {format} from 'timeago.js'\nimport axios from \"axios\";\nimport { Avatar } from \"@material-ui/core\";\nimport {Link} from 'react-router-dom'\nimport { AuthContext } from \"../../context/AuthContext\";\nfunction Post({ Post }) {\n const PF = process.env.REACT_APP_PUBLIC_FOLDER;\n  const [like, setlike] = useState(Post.likes.length);\n  const [isLike, setisLike] = useState(false);\n  const {user}= useContext(AuthContext)\n\n const [User, setUser] = useState({})\n useEffect(() => {\n  setisLike(Post.likes.includes(user._id))\n }, [user._id,Post.likes])\n  const likeHandeler = () => {\n    console.log(\"cl\")\n    try {\n      axios.put(`/posts/${Post._id}/like`,{userId:user._id})\n    } catch (error) {\n      console.log(error)\n    }\n  };\nconsole.log(Post)\n  useEffect(() => {\n    const fetchUser= async () => {\n      try {\n        //getting the user from the data base using post id \n        const res = await axios.get(`/users?userId=${Post.userId}`);\n        // console.log(res.data)\n       setUser(res.data)  \n      } catch (err) {\n        console.log(err);\n      }\n    };\n    fetchUser();\n  }, [Post.userId]);\n\n  return (\n    <div className=\"post\">\n      <div className=\"post__wrapper\">\n        <div className=\"post__wrapper_top\">\n      \n          <div className=\"post_top_left\">    <Link to={`profile/${User.username}`}>\n           <img\n              src={User.profilePicture?User.profilePicture : 'assets/person/lg.jpg'}\n              className=\"postProfileimage\"\n              alt=\"\"\n            />\n          </Link>\n           \n            <span className=\"postusername\">\n              {User.username}\n            </span>\n            <span className=\"postdate\">{format(Post.createdAt)}</span>\n          </div>\n          <div className=\"post_top_right\">\n            <MoreVert />\n          </div>\n        </div>\n        <div className=\"post__wrapper_center\">\n          <span className=\"postText\">{Post.desc}</span>\n          <img className=\"post__image\" src={Post.img} alt=\"\" />\n        </div>\n        <div className=\"post__wrapper_bottum\">\n          <div className=\"post__bottum_left\">\n            <img\n              className=\"like_icon\"\n              src={`${PF}/heart.png`}\n              onClick={likeHandeler}\n              alt=\"\"\n            />\n            <img\n              className=\"like_icon\"\n              src={`${PF}/like.png`}\n              onClick={likeHandeler}\n              alt=\"\"\n            />\n            <span className=\"lickcounter\">{Post.likes.length} people liked this</span>\n          </div>\n          <div className=\"post__bottum_right\">\n            <span className=\"postcommenttext\">{Post.comment} comments</span>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Post;\n"]},"metadata":{},"sourceType":"module"}